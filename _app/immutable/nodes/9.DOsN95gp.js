var ja=Object.defineProperty;var Qt=l=>{throw TypeError(l)};var Ga=(l,a,n)=>a in l?ja(l,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[a]=n;var Tt=(l,a,n)=>Ga(l,typeof a!="symbol"?a+"":a,n),Yt=(l,a,n)=>a.has(l)||Qt("Cannot "+n);var j=(l,a,n)=>(Yt(l,a,"read from private field"),n?n.call(l):a.get(l)),Ee=(l,a,n)=>a.has(l)?Qt("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(l):a.set(l,n),At=(l,a,n,m)=>(Yt(l,a,"write to private field"),m?m.call(l,n):a.set(l,n),n),ea=(l,a,n)=>(Yt(l,a,"access private method"),n);import"../chunks/CWj6FrbW.js";import{o as Ea}from"../chunks/BqR_lnHQ.js";import{W as sa,ab as Ka,N as Ua,aK as Za,aL as Ja,Y as Oa,p as Qa,aM as u,a2 as Ta,ag as ta,f as B,a3 as r,s as o,g as c,t as I,z as e,c as S,d as el,au as le,r as v,b as tl}from"../chunks/DxXDK6DV.js";import{l as al,d as ll,s as k,e as aa}from"../chunks/D0nidhTX.js";import{i as ie}from"../chunks/BT0e9R0P.js";import{e as la,i as ia}from"../chunks/DoAMXx8R.js";import{s as w,r as re}from"../chunks/dfw2eM_S.js";import{s as ra}from"../chunks/B2rchkP0.js";import{s as We}from"../chunks/DCT14Wlb.js";import{b as ne}from"../chunks/CcnFotdR.js";import{b as na}from"../chunks/6GjPduGw.js";function oa(l,a,n){if(l.multiple){if(a==null)return;if(!Ua(a))return Za();for(var m of l.options)m.selected=a.includes(Ke(m));return}for(m of l.options){var p=Ke(m);if(Ja(p,a)){m.selected=!0;return}}(!n||a!==void 0)&&(l.selectedIndex=-1)}function il(l){var a=new MutationObserver(()=>{oa(l,l.__value)});a.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ka(()=>{a.disconnect()})}function rl(l,a,n=a){var m=!0;al(l,"change",p=>{var $=p?"[selected]":":checked",R;if(l.multiple)R=[].map.call(l.querySelectorAll($),Ke);else{var y=l.querySelector($)??l.querySelector("option:not([disabled])");R=y&&Ke(y)}n(R)}),sa(()=>{var p=a();if(oa(l,p,m),m&&p===void 0){var $=l.querySelector(":checked");$!==null&&(p=Ke($),n(p))}l.__value=p,m=!1}),il(l)}function Ke(l){return"__value"in l?l.__value:l.value}var se,Ye,Ue,st,va;const ot=class ot{constructor(a){Ee(this,st);Ee(this,se,new WeakMap);Ee(this,Ye);Ee(this,Ue);At(this,Ue,a)}observe(a,n){var m=j(this,se).get(a)||new Set;return m.add(n),j(this,se).set(a,m),ea(this,st,va).call(this).observe(a,j(this,Ue)),()=>{var p=j(this,se).get(a);p.delete(n),p.size===0&&(j(this,se).delete(a),j(this,Ye).unobserve(a))}}};se=new WeakMap,Ye=new WeakMap,Ue=new WeakMap,st=new WeakSet,va=function(){return j(this,Ye)??At(this,Ye,new ResizeObserver(a=>{for(var n of a){ot.entries.set(n.target,n);for(var m of j(this,se).get(n.target)||[])m(n)}}))},Tt(ot,"entries",new WeakMap);let Ft=ot;var nl=new Ft({box:"border-box"});function Dt(l,a,n){var m=nl.observe(l,()=>n(l[a]));sa(()=>(Oa(()=>n(l[a])),m))}function sl(l,a,n,m,p,$,R,y,M,W,ge){const V=e(a).getBoundingClientRect(),Y=l.clientX-V.left,oe=l.clientY-V.top;if(e(n)){r(m,Y),r(p,oe);return}const G=$(Y,oe);if(r(R,G,!0),G){let h=l.clientX+y,E=l.clientY+y;e(M)&&(h+e(M).offsetWidth>window.innerWidth&&(h=l.clientX-y-e(M).offsetWidth),E+e(M).offsetHeight>window.innerHeight&&(E=l.clientY-y-e(M).offsetHeight)),r(W,h,!0),r(ge,E,!0)}}function ol(l,a,n,m,p,$,R,y){if(l.button!==0)return;const M=e(a).getBoundingClientRect();r(n,l.clientX-M.left),r(m,l.clientY-M.top),r(p,e(n),!0),r($,e(m),!0),r(R,!0),r(y,null)}function vl(l,a,n,m,p,$,R,y,M,W){if(!e(a))return;r(a,!1);const ge=e(n).getBoundingClientRect(),V=l.clientX-ge.left,Y=l.clientY-ge.top,oe=Math.abs(V-e(m)),G=Math.abs(Y-e(p));if(oe<5||G<5)return;const[h,E]=$(Math.min(e(m),V),Math.min(e(p),Y)),[Ze,Ae]=$(Math.max(e(m),V),Math.max(e(p),Y));r(R,h,!0),r(y,Ze,!0),r(M,Ae,!0),r(W,E,!0)}var cl=B("<option> </option>"),ul=B('<button class="reset-btn svelte-1l7alei">Reset View</button>'),dl=(l,a)=>r(a,"none"),_l=(l,a,n)=>r(a,e(a)===e(n).key?"none":e(n).key,!0),fl=B("<button> </button>"),pl=(l,a,n)=>{e(a)>e(n)&&r(a,e(n),!0)},gl=(l,a,n)=>{e(a)<e(n)&&r(a,e(n),!0)},ml=(l,a,n)=>{e(a)>e(n)&&r(a,e(n),!0)},hl=(l,a,n)=>{e(a)<e(n)&&r(a,e(n),!0)},bl=(l,a,n)=>{e(a)>e(n)&&r(a,e(n),!0)},yl=(l,a,n)=>{e(a)<e(n)&&r(a,e(n),!0)},xl=(l,a,n)=>{e(a)>e(n)&&r(a,e(n),!0)},kl=(l,a,n)=>{e(a)<e(n)&&r(a,e(n),!0)},Ml=B('<div class="status svelte-1l7alei">Loading movies...</div>'),wl=B('<div class="status error svelte-1l7alei"> </div>'),Nl=B('<div class="legend color-legend svelte-1l7alei"><span class="legend-label svelte-1l7alei"> </span> <div class="gradient-bar svelte-1l7alei"></div> <div class="legend-range svelte-1l7alei"><span> </span> <span> </span></div></div>'),$l=B('<div class="tt-row svelte-1l7alei"> </div>'),Cl=B('<p class="tt-plot svelte-1l7alei"> </p>'),Rl=B('<img class="svelte-1l7alei"/>'),Wl=B('<div class="tooltip svelte-1l7alei"><strong class="tt-title svelte-1l7alei"> </strong> <span class="tt-year svelte-1l7alei"> </span> <div class="tt-row svelte-1l7alei"><span> </span> <span class="tt-dim svelte-1l7alei"> </span></div> <!> <div class="tt-row svelte-1l7alei"> </div> <div class="tt-genres svelte-1l7alei"> </div> <!> <!></div>'),Yl=B('<div class="canvas-container svelte-1l7alei"><canvas style="cursor:crosshair" class="svelte-1l7alei"></canvas> <div class="legends svelte-1l7alei"><!></div> <div class="movie-count svelte-1l7alei"> </div></div> <!>',1),Al=B('<div class="page svelte-1l7alei"><header class="controls svelte-1l7alei" role="toolbar" aria-label="Visualization controls"><div class="controls-top svelte-1l7alei"><div class="control svelte-1l7alei"><label for="colorBy" class="svelte-1l7alei">Color</label> <select id="colorBy" class="svelte-1l7alei"></select></div> <!> <div class="control genre-pills svelte-1l7alei"><span class="label svelte-1l7alei">Genre</span> <button>All</button> <!></div></div> <div class="filters svelte-1l7alei"><div class="filter svelte-1l7alei"><span class="filter-label svelte-1l7alei">Year</span> <span class="filter-value svelte-1l7alei"> </span> <div class="range-wrap svelte-1l7alei"><input type="range" step="1" class="svelte-1l7alei"/> <input type="range" step="1" class="svelte-1l7alei"/> <div class="range-track-fill svelte-1l7alei"></div></div> <span class="filter-value svelte-1l7alei"> </span></div> <div class="filter svelte-1l7alei"><span class="filter-label svelte-1l7alei">Metascore</span> <span class="filter-value svelte-1l7alei"> </span> <div class="range-wrap svelte-1l7alei"><input type="range" step="1" class="svelte-1l7alei"/> <input type="range" step="1" class="svelte-1l7alei"/> <div class="range-track-fill svelte-1l7alei"></div></div> <span class="filter-value svelte-1l7alei"> </span></div> <div class="filter svelte-1l7alei"><span class="filter-label svelte-1l7alei">Rating</span> <span class="filter-value svelte-1l7alei"> </span> <div class="range-wrap svelte-1l7alei"><input type="range" step="0.1" class="svelte-1l7alei"/> <input type="range" step="0.1" class="svelte-1l7alei"/> <div class="range-track-fill svelte-1l7alei"></div></div> <span class="filter-value svelte-1l7alei"> </span></div> <div class="filter svelte-1l7alei"><span class="filter-label svelte-1l7alei">Votes</span> <span class="filter-value svelte-1l7alei"> </span> <div class="range-wrap svelte-1l7alei"><input type="range" step="1" class="svelte-1l7alei"/> <input type="range" step="1" class="svelte-1l7alei"/> <div class="range-track-fill svelte-1l7alei"></div></div> <span class="filter-value svelte-1l7alei"> </span></div></div></header> <!></div>');function jl(l,a){Qa(a,!0);const n=[{key:"action",label:"Action"},{key:"adventure",label:"Adventure"},{key:"animation",label:"Animation"},{key:"biography",label:"Biography"},{key:"comedy",label:"Comedy"},{key:"crime",label:"Crime"},{key:"documentary",label:"Documentary"},{key:"drama",label:"Drama"},{key:"family",label:"Family"},{key:"fantasy",label:"Fantasy"},{key:"film_noir",label:"Film Noir"},{key:"history",label:"History"},{key:"horror",label:"Horror"},{key:"music",label:"Music"},{key:"musical",label:"Musical"},{key:"mystery",label:"Mystery"},{key:"romance",label:"Romance"},{key:"sci_fi",label:"Sci-Fi"},{key:"sport",label:"Sport"},{key:"thriller",label:"Thriller"},{key:"war",label:"War"},{key:"western",label:"Western"}],m=[{value:"none",label:"None"},{value:"rating",label:"Rating"},{value:"metacritic",label:"Metascore"},{value:"log_rating_count",label:"log(Votes)"}],p=[[68,1,84],[72,35,116],[64,67,135],[52,94,141],[41,120,142],[32,144,140],[34,167,132],[68,190,112],[121,209,81],[189,222,38],[253,231,37]];function $(t){t=Math.max(0,Math.min(1,t));const i=t*(p.length-1),s=Math.floor(i),g=Math.min(s+1,p.length-1),_=i-s,f=Math.round(p[s][0]+_*(p[g][0]-p[s][0])),b=Math.round(p[s][1]+_*(p[g][1]-p[s][1])),x=Math.round(p[s][2]+_*(p[g][2]-p[s][2]));return`rgb(${f},${b},${x})`}function R(t,i,s){return t+(i-t)*s}function y(t,i,s){return t===i?0:(s-t)/(i-t)}function M(t){let i=1/0,s=-1/0;for(const g of t)g<i&&(i=g),g>s&&(s=g);return[i,s]}const W={top:20,right:20,bottom:20,left:20},ge=15,V=typeof window<"u"&&window.devicePixelRatio||1;let Y=u(Ta([])),oe=u(!0),G=u(null),h=u(null),E=u(0),Ze=u(0),Ae=u(void 0),St=u(0),Bt=u(0),Vt=u(0),A=u("none"),me=u("none"),ve=u(void 0),De=le(()=>e(St)),Fe=le(()=>Math.max(0,e(Bt)-e(Vt))),Je=le(()=>e(De)-W.left-W.right),Oe=le(()=>e(Fe)-W.top-W.bottom),ce=[0,1],ue=[0,1],z=u(0),q=u(1),L=u(0),P=u(1),Se=u(0),Be=u(0),K=u(0),U=u(0),Ve=u(0),Xe=u(0),Z=u(0),J=u(0),He=u(0),Ie=u(0),O=u(0),Q=u(0),ze=u(0),qe=u(0),T=u(0),ee=u(0),Qe=le(()=>e(Y).filter(t=>!(t.year<e(K)||t.year>e(U)||!isNaN(t.metacritic)&&(t.metacritic<e(Z)||t.metacritic>e(J))||t.rating<e(O)||t.rating>e(Q)||t.rating_count<e(T)||t.rating_count>e(ee)))),he=u(!1),Te=u(0),et=u(0),Le=u(0),Pe=u(0);function ca(){if(!(!e(Y).length||e(Je)<=0||e(Oe)<=0))for(const t of e(Y))t.px=W.left+R(0,e(Je),y(e(z),e(q),t.x)),t.py=W.top+R(e(Oe),0,y(e(L),e(P),t.y))}function Xt(t){return e(A)==="rating"?t.rating:e(A)==="metacritic"?t.metacritic:e(A)==="log_rating_count"?isNaN(t.rating_count)?NaN:Math.log10(t.rating_count):NaN}function ua(){if(e(A)==="none"||!e(Y).length)return[0,1];const t=e(Y).map(i=>Xt(i)).filter(i=>!isNaN(i));return t.length?M(t):[0,1]}function da(){var t;return((t=m.find(i=>i.value===e(A)))==null?void 0:t.label)??""}function Ht(t){return e(A)==="log_rating_count"?t.toFixed(1):e(A)==="metacritic"?t.toFixed(0):t.toFixed(1)}let tt=le(ua),It=0;function zt(){cancelAnimationFrame(It),It=requestAnimationFrame(_a)}function _a(){const t=e(ve);if(!t||e(De)<=0||e(Fe)<=0)return;t.width=e(De)*V,t.height=e(Fe)*V,t.style.width=`${e(De)}px`,t.style.height=`${e(Fe)}px`;const i=t.getContext("2d");i.scale(V,V),i.clearRect(0,0,e(De),e(Fe));const s=e(tt),g=e(me),_=e(A);for(const f of e(Qe)){const b=g==="none"||f.genres[g],x=g==="none"?.8:b?1:.15;let N="rgb(70,130,180)";if(_!=="none"){const X=Xt(f);isNaN(X)?N="rgb(85,85,85)":N=$(y(s[0],s[1],X))}i.globalAlpha=x,i.beginPath(),i.arc(f.px,f.py,3,0,Math.PI*2),i.fillStyle=N,i.fill(),g!=="none"&&b&&(i.strokeStyle="#facc15",i.lineWidth=2,i.stroke())}if(e(he)){i.globalAlpha=1;const f=Math.min(e(Te),e(Le)),b=Math.min(e(et),e(Pe)),x=Math.abs(e(Le)-e(Te)),N=Math.abs(e(Pe)-e(et));i.strokeStyle="#60a5fa",i.lineWidth=1,i.setLineDash([4,4]),i.strokeRect(f,b,x,N),i.setLineDash([]),i.fillStyle="rgba(96, 165, 250, 0.1)",i.fillRect(f,b,x,N)}i.globalAlpha=1}ta(()=>{e(A),e(me),e(tt),e(Qe).length,e(he),e(Le),e(Pe),zt()}),ta(()=>{e(Je)>0&&e(Oe)>0&&e(Y).length&&(e(z),e(q),e(L),e(P),ca(),zt())});function fa(t){return n.filter(i=>t.genres[i.key]).map(i=>i.label).join(", ")}Ea(async()=>{try{const t=await fetch("https://tmp-borza-public-cyx.s3.amazonaws.com/imdb-comp.json.gz");if(!t.ok)throw new Error(`HTTP ${t.status}`);const i=await t.json(),s=[];for(const d of i){const de=d.x,_e=d.y;typeof de!="number"||typeof _e!="number"||isNaN(de)||isNaN(_e)||s.push({imdb_id:d.imdb_id,x:de,y:_e,genres:Object.fromEntries(n.map(Ce=>[Ce.key,!!d[Ce.key]])),metacritic:d.metacritic??NaN,plot:d.plot??"",title:d.title??"",rating:d.rating??NaN,rating_count:d.rating_count??NaN,year:d.year??NaN,length_minutes:d.length_minutes??NaN,img_link:d.img_link??"",px:0,py:0})}ce=M(s.map(d=>d.x)),ue=M(s.map(d=>d.y)),r(z,ce[0],!0),r(q,ce[1],!0),r(L,ue[0],!0),r(P,ue[1],!0);const g=s.map(d=>d.year).filter(d=>!isNaN(d)),_=s.map(d=>d.metacritic).filter(d=>!isNaN(d)),f=s.map(d=>d.rating).filter(d=>!isNaN(d)),b=s.map(d=>d.rating_count).filter(d=>!isNaN(d)),x=g.length?M(g):[0,0];r(Se,x[0],!0),r(Be,x[1],!0),r(K,x[0],!0),r(U,x[1],!0);const N=_.length?M(_):[0,0];r(Ve,N[0],!0),r(Xe,N[1],!0),r(Z,N[0],!0),r(J,N[1],!0);const X=f.length?M(f):[0,0];r(He,X[0],!0),r(Ie,X[1],!0),r(O,X[0],!0),r(Q,X[1],!0);const ae=b.length?M(b):[0,0];r(ze,ae[0],!0),r(qe,ae[1],!0),r(T,ae[0],!0),r(ee,ae[1],!0),r(Y,s,!0)}catch(t){r(G,t.message,!0)}finally{r(oe,!1)}});function pa(t,i){let s=null,g=20*20;for(const _ of e(Qe)){const f=_.px-t,b=_.py-i,x=f*f+b*b;x<g&&(g=x,s=_)}return s}function qt(t,i){const s=y(W.left,W.left+e(Je),t),g=y(W.top,W.top+e(Oe),i),_=R(e(z),e(q),s),f=R(e(P),e(L),g);return[_,f]}function ga(){e(he)||r(h,null)}function ma(t){t.preventDefault();const i=e(ve).getBoundingClientRect(),s=t.clientX-i.left,g=t.clientY-i.top,[_,f]=qt(s,g),b=t.deltaY>0?1.15:1/1.15;r(z,_+(e(z)-_)*b),r(q,_+(e(q)-_)*b),r(L,f+(e(L)-f)*b),r(P,f+(e(P)-f)*b)}function ha(){r(z,ce[0],!0),r(q,ce[1],!0),r(L,ue[0],!0),r(P,ue[1],!0)}let ba=le(()=>e(z)!==ce[0]||e(q)!==ce[1]||e(L)!==ue[0]||e(P)!==ue[1]),ya=le(()=>{if(e(A)==="none")return"";const t=10,i=[];for(let s=0;s<=t;s++)i.push($(s/t));return`linear-gradient(to right, ${i.join(", ")})`});function te(t,i){return t==="year"?String(Math.round(i)):t==="rcount"?i>=1e3?`${(i/1e3).toFixed(0)}k`:String(Math.round(i)):i.toFixed(1)}var je=Al(),at=c(je),vt=c(at),ct=c(vt),ut=o(c(ct),2);la(ut,21,()=>m,ia,(t,i)=>{var s=cl(),g=c(s,!0);v(s);var _={};I(()=>{k(g,e(i).label),_!==(_=e(i).value)&&(s.value=(s.__value=e(i).value)??"")}),S(t,s)}),v(ut),v(ct);var Lt=o(ct,2);{var xa=t=>{var i=ul();i.__click=ha,S(t,i)};ie(Lt,t=>{e(ba)&&t(xa)})}var Pt=o(Lt,2),dt=o(c(Pt),2);let jt;dt.__click=[dl,me];var ka=o(dt,2);la(ka,17,()=>n,ia,(t,i)=>{var s=fl();let g;s.__click=[_l,me,i];var _=c(s,!0);v(s),I(f=>{g=ra(s,1,"pill svelte-1l7alei",null,g,f),k(_,e(i).label)},[()=>({active:e(me)===e(i).key})]),S(t,s)}),v(Pt),v(vt);var Gt=o(vt,2),_t=c(Gt),ft=o(c(_t),2),Ma=c(ft,!0);v(ft);var pt=o(ft,2),be=c(pt);re(be),be.__input=[pl,K,U];var ye=o(be,2);re(ye),ye.__input=[gl,U,K];var wa=o(ye,2);v(pt);var Et=o(pt,2),Na=c(Et,!0);v(Et),v(_t);var gt=o(_t,2),mt=o(c(gt),2),$a=c(mt,!0);v(mt);var ht=o(mt,2),xe=c(ht);re(xe),xe.__input=[ml,Z,J];var ke=o(xe,2);re(ke),ke.__input=[hl,J,Z];var Ca=o(ke,2);v(ht);var Kt=o(ht,2),Ra=c(Kt,!0);v(Kt),v(gt);var bt=o(gt,2),yt=o(c(bt),2),Wa=c(yt,!0);v(yt);var xt=o(yt,2),Me=c(xt);re(Me),Me.__input=[bl,O,Q];var we=o(Me,2);re(we),we.__input=[yl,Q,O];var Ya=o(we,2);v(xt);var Ut=o(xt,2),Aa=c(Ut,!0);v(Ut),v(bt);var Zt=o(bt,2),kt=o(c(Zt),2),Da=c(kt,!0);v(kt);var Mt=o(kt,2),Ne=c(Mt);re(Ne),Ne.__input=[xl,T,ee];var $e=o(Ne,2);re($e),$e.__input=[kl,ee,T];var Fa=o($e,2);v(Mt);var Jt=o(Mt,2),Sa=c(Jt,!0);v(Jt),v(Zt),v(Gt),v(at);var Ba=o(at,2);{var Va=t=>{var i=Ml();S(t,i)},Xa=(t,i)=>{{var s=_=>{var f=wl(),b=c(f);v(f),I(()=>k(b,`Error: ${e(G)??""}`)),S(_,f)},g=_=>{var f=Yl(),b=tl(f),x=c(b);x.__mousemove=[sl,ve,he,Le,Pe,pa,h,ge,Ae,E,Ze],x.__mousedown=[ol,ve,Te,et,Le,Pe,he,h],x.__mouseup=[vl,he,ve,Te,et,qt,z,q,L,P],na(x,D=>r(ve,D),()=>e(ve));var N=o(x,2),X=c(N);{var ae=D=>{var H=Nl(),fe=c(H),wt=c(fe,!0);v(fe);var Re=o(fe,2),lt=o(Re,2),pe=c(lt),Ge=c(pe,!0);v(pe);var it=o(pe,2),rt=c(it,!0);v(it),v(lt),v(H),I((Nt,nt,$t)=>{k(wt,Nt),We(Re,`background:${e(ya)??""}`),k(Ge,nt),k(rt,$t)},[da,()=>Ht(e(tt)[0]),()=>Ht(e(tt)[1])]),S(D,H)};ie(X,D=>{e(A)!=="none"&&D(ae)})}v(N);var d=o(N,2),de=c(d);v(d),v(b);var _e=o(b,2);{var Ce=D=>{var H=Wl(),fe=c(H),wt=c(fe,!0);v(fe);var Re=o(fe,2),lt=c(Re,!0);v(Re);var pe=o(Re,2),Ge=c(pe),it=c(Ge);v(Ge);var rt=o(Ge,2),Nt=c(rt);v(rt),v(pe);var nt=o(pe,2);{var $t=C=>{var F=$l(),Wt=c(F);v(F),I(()=>k(Wt,`Metascore ${e(h).metacritic??""}`)),S(C,F)};ie(nt,C=>{isNaN(e(h).metacritic)||C($t)})}var Ct=o(nt,2),Ha=c(Ct);v(Ct);var Rt=o(Ct,2),Ia=c(Rt,!0);v(Rt);var Ot=o(Rt,2);{var za=C=>{var F=Cl(),Wt=c(F,!0);v(F),I(Pa=>k(Wt,Pa),[()=>e(h).plot.length>150?e(h).plot.slice(0,150)+"...":e(h).plot]),S(C,F)};ie(Ot,C=>{e(h).plot&&C(za)})}var qa=o(Ot,2);{var La=C=>{var F=Rl();I(()=>{w(F,"src",e(h).img_link),w(F,"alt",e(h).title)}),S(C,F)};ie(qa,C=>{e(h).img_link&&e(h).img_link!=="nan"&&C(La)})}v(H),na(H,C=>r(Ae,C),()=>e(Ae)),I((C,F)=>{We(H,`left:${e(E)??""}px;top:${e(Ze)??""}px`),k(wt,e(h).title),k(lt,e(h).year),k(it,`${e(h).rating??""} / 10`),k(Nt,`${C??""} votes`),k(Ha,`${e(h).length_minutes??""} min`),k(Ia,F)},[()=>e(h).rating_count.toLocaleString(),()=>fa(e(h))]),S(D,H)};ie(_e,D=>{e(h)&&D(Ce)})}I(D=>k(de,`${D??""} movies`),[()=>e(Qe).length.toLocaleString()]),aa("mouseleave",x,ga),aa("wheel",x,ma),S(_,f)};ie(t,_=>{e(G)?_(s):_(g,!1)},i)}};ie(Ba,t=>{e(oe)?t(Va):t(Xa,!1)})}v(je),I((t,i,s,g,_,f,b,x,N,X,ae,d,de,_e,Ce,D,H)=>{jt=ra(dt,1,"pill svelte-1l7alei",null,jt,t),k(Ma,i),w(be,"min",e(Se)),w(be,"max",e(Be)),w(ye,"min",e(Se)),w(ye,"max",e(Be)),We(wa,`left:${s??""}%;right:${g??""}%`),k(Na,_),k($a,f),w(xe,"min",e(Ve)),w(xe,"max",e(Xe)),w(ke,"min",e(Ve)),w(ke,"max",e(Xe)),We(Ca,`left:${b??""}%;right:${x??""}%`),k(Ra,N),k(Wa,X),w(Me,"min",e(He)),w(Me,"max",e(Ie)),w(we,"min",e(He)),w(we,"max",e(Ie)),We(Ya,`left:${ae??""}%;right:${d??""}%`),k(Aa,de),k(Da,_e),w(Ne,"min",e(ze)),w(Ne,"max",e(qe)),w($e,"min",e(ze)),w($e,"max",e(qe)),We(Fa,`left:${Ce??""}%;right:${D??""}%`),k(Sa,H)},[()=>({active:e(me)==="none"}),()=>te("year",e(K)),()=>y(e(Se),e(Be),e(K))*100,()=>(1-y(e(Se),e(Be),e(U)))*100,()=>te("year",e(U)),()=>te("meta",e(Z)),()=>y(e(Ve),e(Xe),e(Z))*100,()=>(1-y(e(Ve),e(Xe),e(J)))*100,()=>te("meta",e(J)),()=>te("rating",e(O)),()=>y(e(He),e(Ie),e(O))*100,()=>(1-y(e(He),e(Ie),e(Q)))*100,()=>te("rating",e(Q)),()=>te("rcount",e(T)),()=>y(e(ze),e(qe),e(T))*100,()=>(1-y(e(ze),e(qe),e(ee)))*100,()=>te("rcount",e(ee))]),rl(ut,()=>e(A),t=>r(A,t)),ne(be,()=>e(K),t=>r(K,t)),ne(ye,()=>e(U),t=>r(U,t)),ne(xe,()=>e(Z),t=>r(Z,t)),ne(ke,()=>e(J),t=>r(J,t)),ne(Me,()=>e(O),t=>r(O,t)),ne(we,()=>e(Q),t=>r(Q,t)),ne(Ne,()=>e(T),t=>r(T,t)),ne($e,()=>e(ee),t=>r(ee,t)),Dt(at,"clientHeight",t=>r(Vt,t)),Dt(je,"clientWidth",t=>r(St,t)),Dt(je,"clientHeight",t=>r(Bt,t)),S(l,je),el()}ll(["click","input","mousemove","mousedown","mouseup"]);export{jl as component};
